# This file contains native-image arguments needed to build and run couchbase-jvm-clients with GraalVM.
# It, and everything else in this native-image folder, will be moved into that project once confirmed stable.

# Quarkus initialises classes at build time by default.
# https://www.graalvm.org/22.1/reference-manual/native-image/ClassInitialization/ explains what this means.

# The --initialize-at-run-time classes tend to be ones where we're doing runtime checks to see if e.g.
# Jackson is on the app's classpath.
# Dependencies are also needed - e.g. because ClusterEnvironment creates  JacksonJsonSerializer, both need to be at runtime.

# --initialize-at-run-time=com.couchbase.client.java.codec.JacksonJsonSerializer,com.couchbase.client.core.deps.io.netty.handler.ssl.JettyNpnSslEngine,com.couchbase.client.java.env.ClusterEnvironment,com.couchbase.client.core.deps.io.netty.channel.epoll.EpollEventLoop,com.couchbase.client.core.deps.io.netty.channel.unix.Errors,com.couchbase.client.core.deps.io.netty.channel.unix.Limits,
# --initialize-at-run-time=com.couchbase.client,com.couchbase.client.core.deps.io.netty.channel.kqueue.KQueueEventArray,com.couchbase.client.core.deps.io.netty.channel.kqueue.KQueueEventLoop,com.couchbase.client.core.deps.io.netty.channel.kqueue.Native,com.couchbase.client.core.deps.io.netty.handler.ssl.ConscryptAlpnSslEngine,com.couchbase.client.core.deps.io.netty.handler.ssl.JdkNpnApplicationProtocolNegotiator,com.couchbase.client.core.deps.io.netty.handler.ssl.JettyNpnSslEngine,com.couchbase.client.core.deps.io.netty.util.internal.logging.Log4JLogger,com.couchbase.client.core.deps.io.netty.handler.ssl.JdkNpnApplicationProtocolNegotiator,com.couchbase.client.core.deps.io.netty.handler.ssl.JettyAlpnSslEngine$ServerEngine,com.couchbase.client.core.deps.io.netty.handler.codec.http.HttpObjectEncoder,com.couchbase.client.core.io.netty.SslHandlerFactory
#Args=--initialize-at-run-time=com.couchbase.client,com.couchbase.client.core.deps.io.netty.channel.kqueue.KQueueEventArray,com.couchbase.client.core.deps.io.netty.channel.kqueue.KQueueEventLoop,com.couchbase.client.core.deps.io.netty.channel.kqueue.Native,com.couchbase.client.core.deps.io.netty.handler.ssl.ConscryptAlpnSslEngine,com.couchbase.client.core.deps.io.netty.handler.ssl.JdkNpnApplicationProtocolNegotiator,com.couchbase.client.core.deps.io.netty.handler.ssl.JettyNpnSslEngine,com.couchbase.client.core.deps.io.netty.util.internal.logging.Log4JLogger,com.couchbase.client.core.deps.io.netty.handler.ssl.JdkNpnApplicationProtocolNegotiator,com.couchbase.client.core.deps.io.netty.handler.ssl.JettyAlpnSslEngine$ServerEngine,com.couchbase.client.core.deps.io.netty.handler.codec.http.HttpObjectEncoder,com.couchbase.client.core.io.netty.SslHandlerFactory,com.couchbase.client.java.codec.JacksonJsonSerializer,com.couchbase.client.java.env.ClusterEnvironment,com.couchbase.client.core.deps.io.netty.util.internal.logging,com.couchbase.client.core.deps.io.netty.util.internal.logging.Log4J2Logger,com.couchbase.client.core.deps.io.netty.util.internal.logging.InternalLoggerFactory,com.couchbase.client.core.deps.io.netty.util.internal.logging.Log4J2LoggerFactory
Args=